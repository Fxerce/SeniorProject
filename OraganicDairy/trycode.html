<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code and Barcode Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        input {
            width: 300px;
            padding: 10px;
            margin-top: 10px;
        }
        button {
            padding: 10px 20px;
            margin-top: 10px;
        }
        #qrcode, #barcode {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>QR Code and Barcode Generator</h1>

    <!-- Input Field to Simulate Barcode Scan -->
    <h2>Scan Barcode (Simulated)</h2>
    <input type="text" id="barcodeInput" placeholder="Scan Barcode or enter ID">
    <button onclick="scanBarcode()">Scan Barcode</button>

    <!-- Input Field to Simulate QR Code Scan -->
    <h2>Scan QR Code (Simulated)</h2>
    <input type="text" id="qrInput" placeholder="Scan QR Code or enter data">
    <button onclick="scanQRCode()">Scan QR Code</button>

    <!-- Displays QR Code and Barcode -->
    <div id="qrcode"></div>
    <div id="barcode"></div>

    <!-- Script and Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode/dist/JsBarcode.all.min.js"></script>
    
    <script>
        // Global JSON Data to store scanned info
        let scannedData = {
            "barcodeData": "",
            "qrCodeData": ""
        };

        // Function to simulate scanning Barcode
        function scanBarcode() {
            const barcodeInput = document.getElementById("barcodeInput").value;
            if (barcodeInput) {
                scannedData.barcodeData = barcodeInput; // Save the scanned barcode data
                displayBarcode(); // Show the barcode
            } else {
                alert("Please enter data to scan.");
            }
        }

        // Function to simulate scanning QR Code
        function scanQRCode() {
            const qrInput = document.getElementById("qrInput").value;
            if (qrInput) {
                scannedData.qrCodeData = qrInput; // Save the scanned QR code data
                displayQRCode(); // Show the QR Code
            } else {
                alert("Please enter data to scan.");
            }
        }

        // Function to display the Barcode
        function displayBarcode() {
            const barcodeContainer = document.getElementById("barcode");
            barcodeContainer.innerHTML = ""; // Clear any previous barcode
            JsBarcode(barcodeContainer, scannedData.barcodeData, {
                format: "CODE128",
                displayValue: true
            });
        }

        // Function to display the QR Code
        function displayQRCode() {
            const qrCodeContainer = document.getElementById("qrcode");
            qrCodeContainer.innerHTML = ""; // Clear any previous QR code
            QRCode.toCanvas(qrCodeContainer, scannedData.qrCodeData, function (error) {
                if (error) console.error(error);
            });
        }

        // Generate QR and Barcode when data is scanned and stored
        function generateQRCodeBarcode() {
            // Example data that would be generated upon scanning
            const qrData = "https://www.example.com";
            const barcodeData = "123456789012";

            // Update JSON with scanned data
            scannedData.qrCodeData = qrData;
            scannedData.barcodeData = barcodeData;

            // Show QR Code and Barcode
            displayQRCode();
            displayBarcode();
        }

        // Simulate scanning QR and Barcode on page load
        window.onload = generateQRCodeBarcode;
    </script>
</body>
</html>
